{"ast":null,"code":"var _jsxFileName = \"C:\\\\Work\\\\\\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0430\\\\\\u041E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435 Edemu JS\\\\\\u0422\\u0435\\u043C\\u044B\\\\Marvel\\\\marvel_starter\\\\src\\\\components\\\\charInfo\\\\CharInfo.js\";\nimport { Component } from 'react';\nimport MarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport Skeleton from '../skeleton/Skeleton';\nimport './charInfo.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass CharInfo extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      char: null,\n      loading: false,\n      error: false\n    };\n    this.marvelService = new MarvelService();\n    this.updateChar = () => {\n      const {\n        charId\n      } = this.props;\n      if (!charId) {\n        return;\n      }\n      this.onCharLoading();\n      this.marvelService.getCharacter(charId).then(this.onCharLoaded).catch(this.onError);\n      this.foo.bar = 0;\n    };\n    this.onCharLoaded = char => {\n      this.setState({\n        char,\n        loading: false\n      });\n    };\n    this.onCharLoading = () => {\n      this.setState({\n        loading: true\n      });\n    };\n    this.onError = () => {\n      this.setState({\n        loading: false,\n        error: true\n      });\n    };\n  }\n  componentDidMount() {\n    this.updateChar();\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.charId !== prevProps.charId) {\n      this.updateChar();\n    }\n  }\n  componentDidCatch(err, info) {\n    console.log(err, info);\n    this.setState();\n  }\n  render() {\n    const {\n      char,\n      loading,\n      error\n    } = this.state;\n    const skeleton = char || loading || error ? null : /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 60\n    }, this);\n    const errorMessage = error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 38\n    }, this) : null;\n    const spinner = loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 35\n    }, this) : null;\n    const content = !(loading || error || !char) ? /*#__PURE__*/_jsxDEV(View, {\n      char: char\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 56\n    }, this) : null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__info\",\n      children: [skeleton, errorMessage, spinner, content]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n}\nconst View = _ref => {\n  let {\n    char\n  } = _ref;\n  const {\n    name,\n    description,\n    thumbnail,\n    homepage,\n    wiki,\n    comics\n  } = char;\n  let imgStyle = {\n    'objectFit': 'cover'\n  };\n  if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n    imgStyle = {\n      'objectFit': 'contain'\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__basics\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: thumbnail,\n        alt: name,\n        style: imgStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"char__info-name\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"char__btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: homepage,\n            className: \"button button__main\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inner\",\n              children: \"homepage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: wiki,\n            className: \"button button__secondary\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inner\",\n              children: \"Wiki\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__descr\",\n      children: description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"char__comics\",\n      children: \"Comics:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"char__comics-list\",\n      children: [comics.length > 0 ? null : 'There is no comics with this character', comics.map((item, i) => {\n        // eslint-disable-next-line\n        if (i > 9) return;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"char__comics-item\",\n          children: item.name\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 29\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_c = View;\nexport default CharInfo;\nvar _c;\n$RefreshReg$(_c, \"View\");","map":{"version":3,"names":["Component","MarvelService","Spinner","ErrorMessage","Skeleton","jsxDEV","_jsxDEV","Fragment","_Fragment","CharInfo","constructor","arguments","state","char","loading","error","marvelService","updateChar","charId","props","onCharLoading","getCharacter","then","onCharLoaded","catch","onError","foo","bar","setState","componentDidMount","componentDidUpdate","prevProps","componentDidCatch","err","info","console","log","render","skeleton","fileName","_jsxFileName","lineNumber","columnNumber","errorMessage","spinner","content","View","className","children","_ref","name","description","thumbnail","homepage","wiki","comics","imgStyle","src","alt","style","href","length","map","item","i","_c","$RefreshReg$"],"sources":["C:/Work/Практика/Обучение Edemu JS/Темы/Marvel/marvel_starter/src/components/charInfo/CharInfo.js"],"sourcesContent":["\r\nimport { Component } from 'react';\r\n\r\nimport MarvelService from '../../services/MarvelService';\r\nimport Spinner from '../spinner/Spinner';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\nimport Skeleton from '../skeleton/Skeleton';\r\n\r\nimport './charInfo.scss';\r\n\r\nclass CharInfo extends Component {\r\n\r\n    state = {\r\n        char: null,\r\n        loading: false,\r\n        error: false\r\n    }\r\n\r\n    marvelService = new MarvelService();\r\n\r\n    componentDidMount() {\r\n        this.updateChar();\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if (this.props.charId !== prevProps.charId) {\r\n            this.updateChar();\r\n        }\r\n    }\r\n\r\n    componentDidCatch(err, info) {\r\n        console.log(err, info);\r\n        this.setState()\r\n    }\r\n\r\n    updateChar = () => {\r\n        const {charId} = this.props;\r\n        if (!charId) {\r\n            return;\r\n        }\r\n\r\n        this.onCharLoading();\r\n\r\n        this.marvelService\r\n            .getCharacter(charId)\r\n            .then(this.onCharLoaded)\r\n            .catch(this.onError);\r\n\r\n        this.foo.bar = 0;\r\n    }\r\n\r\n    onCharLoaded = (char) => {\r\n        this.setState({\r\n            char, \r\n            loading: false\r\n        })\r\n    }\r\n \r\n    onCharLoading = () => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n    }\r\n\r\n    onError = () => {\r\n        this.setState({\r\n            loading: false,\r\n            error: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {char, loading, error} = this.state;\r\n\r\n        const skeleton = char || loading || error ? null : <Skeleton/>;\r\n        const errorMessage = error ? <ErrorMessage/> : null;\r\n        const spinner = loading ? <Spinner/> : null;\r\n        const content = !(loading || error || !char) ? <View char={char}/> : null;\r\n\r\n        return (\r\n            <div className=\"char__info\">\r\n                {skeleton}\r\n                {errorMessage}\r\n                {spinner}\r\n                {content}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst View = ({char}) => {\r\n    const {name, description, thumbnail, homepage, wiki, comics} = char;\r\n\r\n    let imgStyle = {'objectFit' : 'cover'};\r\n    if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\r\n        imgStyle = {'objectFit' : 'contain'};\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"char__basics\">\r\n                <img src={thumbnail} alt={name} style={imgStyle}/>\r\n                <div>\r\n                    <div className=\"char__info-name\">{name}</div>\r\n                    <div className=\"char__btns\">\r\n                        <a href={homepage} className=\"button button__main\">\r\n                            <div className=\"inner\">homepage</div>\r\n                        </a>\r\n                        <a href={wiki} className=\"button button__secondary\">\r\n                            <div className=\"inner\">Wiki</div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"char__descr\">\r\n                {description}\r\n            </div>\r\n            <div className=\"char__comics\">Comics:</div>\r\n            <ul className=\"char__comics-list\">\r\n                {comics.length > 0 ? null : 'There is no comics with this character'}\r\n                {\r\n                    comics.map((item, i) => {\r\n                        // eslint-disable-next-line\r\n                        if (i > 9) return;\r\n                        return (\r\n                            <li key={i} className=\"char__comics-item\">\r\n                                {item.name}\r\n                            </li>\r\n                        )\r\n                    })\r\n                }                \r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CharInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}